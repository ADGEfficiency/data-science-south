{{/* Content Metadata Partial - Reusable metadata display for content pages */}}
{{/* Shows description, dates (created/updated), and competency tags */}}
{{/* Use with: {{ partial "content-metadata.html" . }} */}}

<div class="flex flex-col gap-3">
  {{/* Description */}}
  {{ with (.Description | default .Params.description) }}
  <p class="text-sm opacity-75 dark:text-gray-300">{{ . }}</p>
  {{ end }}

  {{/* Metadata badges row */}}
  <div class="flex flex-wrap items-center gap-2">
    {{/* Date badges - only show for blog posts and lessons */}}
    {{ if or (in .RelPermalink "/blog/") (in .RelPermalink "/lessons/") }}
      <div class="flex flex-wrap items-center gap-2">
        {{/* Created date */}}
        {{ if .Params.date_created }}
        <span class="px-2 py-1 text-xs rounded bg-orange-100 dark:bg-orange-800 text-orange-700 dark:text-orange-200 inline-flex items-center gap-1">
          <span>Created:</span>
          {{ (time .Params.date_created).Format "Jan 2006" }}
        </span>
        {{ end }}

        {{/* Updated date - only show if different from created */}}
        {{ if and .Params.date_updated (ne .Params.date_created .Params.date_updated) }}
        <span class="px-2 py-1 text-xs rounded bg-teal-100 dark:bg-teal-800 text-teal-700 dark:text-teal-200 inline-flex items-center gap-1">
          <span>Updated:</span>
          {{ (time .Params.date_updated).Format "Jan 2006" }}
        </span>
        {{ end }}
      </div>
    {{ end }}

    {{/* Content type badge */}}
    {{ if in .RelPermalink "/blog/" }}
    <span class="px-2 py-1 text-xs rounded bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200">
      Blog
    </span>
    {{ else if in .RelPermalink "/lessons/" }}
    <span class="px-2 py-1 text-xs rounded bg-purple-100 dark:bg-purple-800 text-purple-700 dark:text-purple-200">
      Lesson
    </span>
    {{ end }}

    {{/* Competency tags */}}
    {{ range .Params.competencies }}
    <span class="px-2 py-1 text-xs rounded bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-200">
      {{ . }}
    </span>
    {{ end }}

    {{/* GitHub link badge */}}
    {{ with .Params.github }}
    <a
      href="{{ . }}"
      target="_blank"
      rel="noopener noreferrer"
      class="px-2 py-1 text-xs rounded bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200 inline-flex items-center gap-1"
      aria-label="GitHub Repository"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path
          d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
        ></path>
      </svg>
    </a>
    {{ end }}
  </div>
</div>
